<%= flash[:notice]%>
<style>
table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  background-color: #dddddd;
}
</style>

<h1>Users</h1>
<table>
    <tr>
        <th> First Name</th>
        <th> Last Name</th>
        <th> Email</th>
        <th> Phone Number</th>
        <th> Classification</th>
        <th> Role</th>
        <th> T-Shirt </th>
        <th> Points</th>
    </tr>

<% if userlogin_signed_in? %>
  <div>Signed in as: <%= current_userlogin.email %></div>
  <div><%=  @user.role == 0 ? :"Member" : :"Admin"  %> </div>
<% end %>

<% @users.each do |user| %>
    <tr>
        <td><%=  user.firstName %></td>
        <td><%=  user.lastName  %></td>
        <td><%=  user.email  %> </td>
        <td><%=  user.phoneNumber  %> </td>
        <td><%=  user.classification %> </td>
        <td><%=  user.role == 0 ? :"Member" : :"Admin"  %> </td>
        <td><%=  user.tShirtSize  %> </td>
        <td><%=  user.get_total_points(user) %> </td>
        <td><%= link_to "View Details", user %> </td>
    </tr>
<% end %>

</table>

<% if @user.role == 1 %>
  <button> <%= link_to "Create New User", new_user_path %> </button>

  <button> <%= link_to "View Pending Users", pendingApproval_path %> </button>

  <div>
      <h4> Import data from csv file </h4>
          <%= form_tag import_users_path, multipart: true do %>
              <%= file_field_tag :file %>
              <%= submit_tag "Import CSV" %>
          <% end %>
  </div>
<% end %>